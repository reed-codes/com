{"ast":null,"code":"import _slicedToArray from \"/Users/thecoderlorian/Documents/dev/2 copy/com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/layout.jsx\";\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { matchPath } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport TopNotice from './common/top-notice';\nimport Header from './common/header';\nimport Footer from './common/footer';\nimport MobileMenu from './common/mobile-menu';\nimport AddToCartModal from './features/modal/add-to-cart-modal';\nimport QuickModal from './features/modal/quick-modal';\nimport { init } from '../utils';\nimport { innerOverlayPaths } from '../mock-data/data';\nimport 'react-image-lightbox/style.css';\n\nfunction Layout(props) {\n  var _this = this;\n\n  var isMenu = true;\n  var matchedCount = 0;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      prevPath = _useState2[0],\n      setPrevPath = _useState2[1];\n\n  var CloseButton = function CloseButton(_ref) {\n    var YouCanPassAnyProps = _ref.YouCanPassAnyProps,\n        closeToast = _ref.closeToast;\n    return /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-cancel\",\n      onClick: closeToast,\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }\n    });\n  }; //Header handler\n\n\n  if (window.location.pathname === \"/\" || window.location.pathname.indexOf(\"home\") === 1) {\n    isMenu = false;\n  }\n\n  useLayoutEffect(function () {\n    var overlayFlag = true;\n\n    for (var i = 0; i < innerOverlayPaths.length; i++) {\n      if (prevPath.indexOf(innerOverlayPaths[i]) > 0 && props.location.pathname.indexOf(innerOverlayPaths[i]) > 0) {\n        overlayFlag = false;\n      }\n\n      if (prevPath === props.location.pathname) {\n        overlayFlag = false;\n      }\n    }\n\n    if (overlayFlag) {\n      document.querySelector('body').classList.remove('loaded');\n      document.querySelector('#root').classList.remove('loaded');\n    }\n  }, [window.location.pathname]);\n  useEffect(function () {\n    setPrevPath(props.location.pathname);\n    setTimeout(function () {\n      document.querySelector('body').classList.add('loaded');\n      document.querySelector('#root').classList.add('loaded');\n    }, 200);\n  }, [window.location.pathname]);\n  useEffect(function () {\n    init(); // show 404 page\n\n    while (matchedCount < props.children.length && !matchPath(window.location.pathname, {\n      path: props.children[matchedCount].props.path,\n      exact: true\n    })) {\n      matchedCount++;\n    }\n\n    if (props.children && !props.children.length) {\n      if (matchPath(window.location.pathname, {\n        path: props.children.props.path,\n        exact: true\n      })) {\n        matchedCount = 1;\n      }\n    }\n\n    if (matchedCount >= props.children.length || props.children && !props.children.length && matchedCount === 0) {\n      window.location = process.env.PUBLIC_URL + \"/pages/404\";\n    }\n  });\n  useEffect(function () {\n    if (window.location.pathname === process.env.PUBLIC_URL + '/') {\n      document.querySelector('html').style.overflowX = \"hidden\";\n    } else {\n      document.querySelector('html').style.overflowX = \"visible\";\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"porto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TopNotice, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    isMenu: isMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), props.children, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(MobileMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(AddToCartModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(QuickModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    autoClose: 2000,\n    closeButton: /*#__PURE__*/React.createElement(CloseButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 62\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    id: \"scroll-top\",\n    to: \"#top\",\n    title: \"Top\",\n    role: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon-angle-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 71\n    }\n  })));\n}\n\nexport default Layout;","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","Link","matchPath","ToastContainer","TopNotice","Header","Footer","MobileMenu","AddToCartModal","QuickModal","init","innerOverlayPaths","Layout","props","isMenu","matchedCount","prevPath","setPrevPath","CloseButton","YouCanPassAnyProps","closeToast","display","alignItems","window","location","pathname","indexOf","overlayFlag","i","length","document","querySelector","classList","remove","setTimeout","add","children","path","exact","process","env","PUBLIC_URL","style","overflowX"],"sources":["/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/layout.jsx"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { matchPath } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport TopNotice from './common/top-notice';\r\nimport Header from './common/header';\r\nimport Footer from './common/footer';\r\nimport MobileMenu from './common/mobile-menu';\r\nimport AddToCartModal from './features/modal/add-to-cart-modal';\r\nimport QuickModal from './features/modal/quick-modal';\r\n\r\nimport { init } from '../utils';\r\n\r\nimport { innerOverlayPaths } from '../mock-data/data';\r\n\r\nimport 'react-image-lightbox/style.css';\r\n\r\nfunction Layout( props ) {\r\n    let isMenu = true;\r\n    let matchedCount = 0;\r\n    const [ prevPath, setPrevPath ] = useState( '' );\r\n    const CloseButton = ( { YouCanPassAnyProps, closeToast } ) => (\r\n        <i\r\n            className=\"icon-cancel\"\r\n            onClick={ closeToast }\r\n            style={ { display: 'flex', alignItems: 'center' } }\r\n        >\r\n        </i>\r\n    );\r\n\r\n    //Header handler\r\n    if ( window.location.pathname === \"/\" || window.location.pathname.indexOf( \"home\" ) === 1 ) {\r\n        isMenu = false;\r\n    }\r\n\r\n    useLayoutEffect( () => {\r\n        let overlayFlag = true;\r\n\r\n        for ( let i = 0; i < innerOverlayPaths.length; i++ ) {\r\n            if ( prevPath.indexOf( innerOverlayPaths[ i ] ) > 0 && props.location.pathname.indexOf( innerOverlayPaths[ i ] ) > 0 ) {\r\n                overlayFlag = false;\r\n            }\r\n\r\n            if ( prevPath === props.location.pathname ) {\r\n                overlayFlag = false;\r\n            }\r\n        }\r\n\r\n        if ( overlayFlag ) {\r\n            document.querySelector( 'body' ).classList.remove( 'loaded' );\r\n            document.querySelector( '#root' ).classList.remove( 'loaded' );\r\n        }\r\n    }, [ window.location.pathname ] )\r\n\r\n    useEffect( () => {\r\n        setPrevPath( props.location.pathname );\r\n\r\n        setTimeout( () => {\r\n            document.querySelector( 'body' ).classList.add( 'loaded' );\r\n            document.querySelector( '#root' ).classList.add( 'loaded' );\r\n        }, 200 );\r\n    }, [ window.location.pathname ] )\r\n\r\n    useEffect( () => {\r\n        init();\r\n\r\n        // show 404 page\r\n        while ( matchedCount < props.children.length && !matchPath( window.location.pathname, { path: props.children[ matchedCount ].props.path, exact: true } ) ) {\r\n            matchedCount++;\r\n        }\r\n\r\n        if ( props.children && !props.children.length ) {\r\n            if ( ( matchPath( window.location.pathname, { path: props.children.props.path, exact: true } ) ) ) {\r\n                matchedCount = 1;\r\n            }\r\n        }\r\n\r\n        if ( ( matchedCount >= props.children.length ) || ( props.children && !props.children.length && matchedCount === 0 ) ) {\r\n            window.location = process.env.PUBLIC_URL + \"/pages/404\";\r\n        }\r\n    } )\r\n\r\n    useEffect( () => {\r\n        if ( window.location.pathname === ( process.env.PUBLIC_URL + '/' ) ) {\r\n            document.querySelector( 'html' ).style.overflowX = \"hidden\";\r\n        } else {\r\n            document.querySelector( 'html' ).style.overflowX = \"visible\";\r\n        }\r\n    } )\r\n\r\n    return (\r\n        <div className=\"porto\">\r\n\r\n            <div className=\"page-wrapper\">\r\n                <TopNotice />\r\n\r\n                <Header isMenu={ isMenu } />\r\n\r\n                { props.children }\r\n\r\n                <Footer />\r\n            </div>\r\n\r\n            <MobileMenu />\r\n\r\n            <AddToCartModal />\r\n\r\n            <QuickModal />\r\n\r\n            <ToastContainer autoClose={ 2000 } closeButton={ <CloseButton /> } />\r\n\r\n            <Link id=\"scroll-top\" to=\"#top\" title=\"Top\" role=\"button\"><i className=\"icon-angle-up\"></i></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module"}