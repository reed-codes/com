{"ast":null,"code":"import _toConsumableArray from \"/Users/thecoderlorian/Documents/dev/2 copy/com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/thecoderlorian/Documents/dev/2 copy/com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_FROM_CART, SHOW_CART_MODAL, HIDE_CART_MODAL, CLEAR_CART, DECREMENT_QTY, REFRESH_STORE } from '../constants/action-types';\nimport { findIndex } from '../utils';\nimport { persistReducer } from \"redux-persist\";\nimport storage from 'redux-persist/lib/storage';\nvar initialState = {\n  cart: [],\n  modalProduct: '',\n  showModal: false\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (findIndex(state.cart, action.product.id)) {\n        var _cart = state.cart.reduce(function (acc, product) {\n          if (product.id === action.product.id) {\n            acc.push(_objectSpread({}, product, {\n              qty: product.qty + action.qty,\n              sum: (action.product.salePrice ? action.product.salePrice : action.product.price) * (product.qty + action.qty)\n            }));\n          } else {\n            acc.push(product);\n          }\n\n          return acc;\n        }, []);\n\n        return _objectSpread({}, state, {\n          cart: _cart\n        });\n      }\n\n      return _objectSpread({}, state, {\n        cart: [].concat(_toConsumableArray(state.cart), [_objectSpread({}, action.product, {\n          qty: action.qty,\n          sum: (action.product.salePrice ? action.product.salePrice : action.product.price) * action.qty\n        })])\n      });\n\n    case REMOVE_FROM_CART:\n      return _objectSpread({}, state, {\n        cart: state.cart.filter(function (item) {\n          return item.id !== action.product.id;\n        })\n      });\n\n    case CLEAR_CART:\n      return _objectSpread({}, state, {\n        cart: []\n      });\n\n    case DECREMENT_QTY:\n      var cart = state.cart.reduce(function (acc, product) {\n        if (product.id === action.product.id) {\n          acc.push(_objectSpread({}, product, {\n            qty: product.qty - 1,\n            sum: (action.product.salePrice ? action.product.salePrice : action.product.price) * (product.qty - 1)\n          }));\n        } else {\n          acc.push(product);\n        }\n\n        return acc;\n      }, []);\n      return _objectSpread({}, state, {\n        cart: cart\n      });\n\n    case SHOW_CART_MODAL:\n      return _objectSpread({}, state, {\n        showModal: true,\n        modalProduct: action.product\n      });\n\n    case HIDE_CART_MODAL:\n      return _objectSpread({}, state, {\n        showModal: false\n      });\n\n    case REFRESH_STORE:\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nvar persistConfig = {\n  keyPrefix: \"porto-\",\n  key: \"cartlist\",\n  storage: storage\n};\nexport default persistReducer(persistConfig, cartReducer);","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","SHOW_CART_MODAL","HIDE_CART_MODAL","CLEAR_CART","DECREMENT_QTY","REFRESH_STORE","findIndex","persistReducer","storage","initialState","cart","modalProduct","showModal","cartReducer","state","action","type","product","id","reduce","acc","push","qty","sum","salePrice","price","filter","item","persistConfig","keyPrefix","key"],"sources":["/Users/thecoderlorian/Documents/dev/2 copy/com/src/reducers/cart.js"],"sourcesContent":["import {\r\n    ADD_TO_CART,\r\n    REMOVE_FROM_CART,\r\n    SHOW_CART_MODAL,\r\n    HIDE_CART_MODAL,\r\n    CLEAR_CART,\r\n    DECREMENT_QTY,\r\n    REFRESH_STORE\r\n} from '../constants/action-types';\r\nimport { findIndex } from '../utils';\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nlet initialState = {\r\n    cart: [],\r\n    modalProduct: '',\r\n    showModal: false\r\n}\r\n\r\nconst cartReducer = ( state = initialState, action ) => {\r\n    switch ( action.type ) {\r\n        case ADD_TO_CART:\r\n            if ( findIndex( state.cart, action.product.id ) ) {\r\n                const cart = state.cart.reduce( ( acc, product ) => {\r\n                    if ( product.id === action.product.id ) {\r\n                        acc.push(\r\n                            {\r\n                                ...product,\r\n                                qty: product.qty + action.qty,\r\n                                sum: ( action.product.salePrice ? action.product.salePrice : action.product.price ) * ( product.qty + action.qty )\r\n                            } );\r\n                    } else {\r\n                        acc.push( product );\r\n                    }\r\n                    return acc;\r\n                }, [] );\r\n                return { ...state, cart };\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                cart: [\r\n                    ...state.cart,\r\n                    {\r\n                        ...action.product,\r\n                        qty: action.qty,\r\n                        sum: ( action.product.salePrice ? action.product.salePrice : action.product.price ) * action.qty\r\n                    }\r\n                ]\r\n            };\r\n\r\n        case REMOVE_FROM_CART:\r\n            return {\r\n                ...state,\r\n                cart: state.cart.filter( item => item.id !== action.product.id )\r\n            };\r\n\r\n        case CLEAR_CART:\r\n            return {\r\n                ...state,\r\n                cart: []\r\n            };\r\n\r\n        case DECREMENT_QTY:\r\n            const cart = state.cart.reduce( ( acc, product ) => {\r\n                if ( product.id === action.product.id ) {\r\n                    acc.push(\r\n                        {\r\n                            ...product,\r\n                            qty: product.qty - 1,\r\n                            sum: ( action.product.salePrice ? action.product.salePrice : action.product.price ) * ( product.qty - 1 )\r\n                        } );\r\n                } else {\r\n                    acc.push( product );\r\n                }\r\n                return acc;\r\n            }, [] );\r\n\r\n            return { ...state, cart };\r\n\r\n        case SHOW_CART_MODAL:\r\n            return {\r\n                ...state,\r\n                showModal: true,\r\n                modalProduct: action.product\r\n            }\r\n\r\n        case HIDE_CART_MODAL:\r\n            return {\r\n                ...state,\r\n                showModal: false\r\n            }\r\n\r\n        case REFRESH_STORE:\r\n            return initialState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst persistConfig = {\r\n    keyPrefix: \"porto-\",\r\n    key: \"cartlist\",\r\n    storage\r\n}\r\n\r\nexport default persistReducer( persistConfig, cartReducer );"],"mappings":"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"},"metadata":{},"sourceType":"module"}