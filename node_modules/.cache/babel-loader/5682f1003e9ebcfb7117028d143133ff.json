{"ast":null,"code":"import _slicedToArray from \"/Users/thecoderlorian/Documents/dev/2 copy/com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/pages/products/common/thumbnails/vertical-thumbnail.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Lightbox from 'react-image-lightbox';\nimport { Magnifier } from \"react-image-magnifiers\";\nimport StickyBox from 'react-sticky-box';\nimport Carousel from '../../../../features/carousel';\nimport { stickyContentHandle, setStickyValues } from '../../../../../utils';\n\nfunction VerticalThumbnail(props) {\n  var _this = this;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      photoIndex = _useState2[0],\n      setPindex = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _props$addClass = props.addClass,\n      addClass = _props$addClass === void 0 ? '' : _props$addClass,\n      product = props.product;\n  var images = product.pictures;\n  useEffect(function () {\n    setStickyValues(120);\n    window.addEventListener('scroll', stickyContentHandle, {\n      passive: true\n    });\n    return function () {\n      window.removeEventListener('scroll', stickyContentHandle);\n    };\n  });\n  useEffect(function () {\n    if (document.querySelector('.product-single-carousel .owl-nav') && !document.querySelector('.product-single-carousel .owl-nav').classList.contains('disabled')) {\n      document.querySelector('.product-single-carousel .owl-nav').classList.add('d-none');\n    }\n  });\n\n  var openLightBox = function openLightBox() {\n    if (document.querySelector('.product-single-carousel')) {\n      var productCarousel = document.querySelector('.product-single-carousel');\n      var productItem = productCarousel.querySelector('.active');\n      var index = productItem.querySelector(\".image-item\").getAttribute('index');\n\n      if (!index) {\n        index = 0;\n      }\n\n      setOpen(true);\n      setPindex(index);\n    }\n  };\n\n  var moveToPrev = function moveToPrev() {\n    if (images.length !== 1) {\n      setPindex((photoIndex + images.length - 1) % images.length);\n    }\n  };\n\n  var moveToNext = function moveToNext() {\n    if (images.length !== 1) {\n      setPindex((photoIndex + 1) % images.length);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-single-gallery \".concat(addClass),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StickyBox, {\n    className: \"sticky-slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"skel-pro skel-magnifier skel-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-slider-container product-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    addClass: \"product-single-carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, product.pictures ? product.pictures.map(function (gallery, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-item image-item\",\n      key: \"mag-image\" + index,\n      index: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Magnifier, {\n      imageSrc: \"\".concat(process.env.PUBLIC_URL, \"/\").concat(gallery),\n      imageAlt: \"product\",\n      mouseActivation: \"hover\",\n      cursorStyleActive: \"crosshair\",\n      dragToMove: false,\n      className: \"product-single-image\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 41\n      }\n    }));\n  }) : \"\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"prod-full-screen\",\n    onClick: openLightBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prod-thumbnail row owl-dots transparent-dots flex-column\",\n    id: \"carousel-quick-dots\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, product.pictures ? product.pictures.map(function (gallery, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"owl-dot\",\n      key: \"prod-nav\" + index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\".concat(process.env.PUBLIC_URL, \"/\").concat(gallery),\n      alt: \"product\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }));\n  }) : \"\")), open && /*#__PURE__*/React.createElement(Lightbox, {\n    mainSrc: images[photoIndex],\n    nextSrc: images[(photoIndex + 1) % images.length],\n    prevSrc: images[(photoIndex + images.length - 1) % images.length],\n    onCloseRequest: function onCloseRequest() {\n      return setOpen(false);\n    },\n    onMovePrevRequest: moveToPrev,\n    onMoveNextRequest: moveToNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }));\n}\n\nexport default VerticalThumbnail;","map":{"version":3,"names":["React","useEffect","useState","Lightbox","Magnifier","StickyBox","Carousel","stickyContentHandle","setStickyValues","VerticalThumbnail","props","photoIndex","setPindex","open","setOpen","addClass","product","images","pictures","window","addEventListener","passive","removeEventListener","document","querySelector","classList","contains","add","openLightBox","productCarousel","productItem","index","getAttribute","moveToPrev","length","moveToNext","map","gallery","process","env","PUBLIC_URL"],"sources":["/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/pages/products/common/thumbnails/vertical-thumbnail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport { Magnifier } from \"react-image-magnifiers\";\r\nimport StickyBox from 'react-sticky-box';\r\n\r\nimport Carousel from '../../../../features/carousel';\r\n\r\nimport { stickyContentHandle, setStickyValues } from '../../../../../utils';\r\n\r\nfunction VerticalThumbnail( props ) {\r\n    const [ photoIndex, setPindex ] = useState( 0 );\r\n    const [ open, setOpen ] = useState( false );\r\n    const { addClass = '', product } = props;\r\n    const images = product.pictures;\r\n\r\n    useEffect( () => {\r\n        setStickyValues( 120 );\r\n        window.addEventListener( 'scroll', stickyContentHandle, { passive: true } );\r\n\r\n        return () => {\r\n            window.removeEventListener( 'scroll', stickyContentHandle );\r\n        }\r\n    } )\r\n\r\n    useEffect( () => {\r\n        if ( document.querySelector( '.product-single-carousel .owl-nav' ) && !document.querySelector( '.product-single-carousel .owl-nav' ).classList.contains( 'disabled' ) ) {\r\n            document.querySelector( '.product-single-carousel .owl-nav' ).classList.add( 'd-none' )\r\n        }\r\n    } )\r\n\r\n    const openLightBox = () => {\r\n        if ( document.querySelector( '.product-single-carousel' ) ) {\r\n            let productCarousel = document.querySelector( '.product-single-carousel' );\r\n            let productItem = productCarousel.querySelector( '.active' );\r\n            let index = productItem.querySelector( \".image-item\" ).getAttribute( 'index' );\r\n\r\n            if ( !index ) {\r\n                index = 0;\r\n            }\r\n\r\n            setOpen( true );\r\n            setPindex( index );\r\n        }\r\n    }\r\n\r\n    const moveToPrev = () => {\r\n        if ( images.length !== 1 ) {\r\n            setPindex( ( photoIndex + images.length - 1 ) % images.length );\r\n        }\r\n    }\r\n\r\n    const moveToNext = () => {\r\n        if ( images.length !== 1 ) {\r\n            setPindex( ( photoIndex + 1 ) % images.length );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={ `product-single-gallery ${ addClass }` }>\r\n            <StickyBox className=\"sticky-slider\">\r\n                <div className=\"skel-pro skel-magnifier skel-full\"></div>\r\n                <div className=\"product-slider-container product-item\">\r\n\r\n                    <Carousel addClass=\"product-single-carousel\">\r\n                        {\r\n                            product.pictures ?\r\n                                product.pictures.map( ( gallery, index ) => (\r\n                                    <div className=\"product-item image-item\" key={ \"mag-image\" + index } index={ index }>\r\n                                        <Magnifier\r\n                                            imageSrc={ `${ process.env.PUBLIC_URL }/${ gallery }` }\r\n                                            imageAlt=\"product\"\r\n                                            mouseActivation=\"hover\"\r\n                                            cursorStyleActive=\"crosshair\"\r\n                                            dragToMove={ false }\r\n                                            className=\"product-single-image\"\r\n                                        />\r\n                                    </div>\r\n                                ) )\r\n                                : \"\"\r\n                        }\r\n                    </Carousel>\r\n\r\n                    <span className=\"prod-full-screen\" onClick={ openLightBox }>\r\n                        <i className=\"icon-plus\"></i>\r\n                    </span>\r\n                </div>\r\n                <div className=\"prod-thumbnail row owl-dots transparent-dots flex-column\" id='carousel-quick-dots'>\r\n                    {\r\n                        product.pictures ?\r\n                            product.pictures.map( ( gallery, index ) => (\r\n                                <div className=\"owl-dot\" key={ \"prod-nav\" + index }>\r\n                                    <img src={ `${ process.env.PUBLIC_URL }/${ gallery }` } alt=\"product\" />\r\n                                </div>\r\n                            ) )\r\n                            : \"\"\r\n                    }\r\n                </div>\r\n            </StickyBox>\r\n\r\n            {\r\n                open && (\r\n                    <Lightbox\r\n                        mainSrc={ images[ photoIndex ] }\r\n                        nextSrc={ images[ ( photoIndex + 1 ) % images.length ] }\r\n                        prevSrc={ images[ ( photoIndex + images.length - 1 ) % images.length ] }\r\n                        onCloseRequest={ () => setOpen( false ) }\r\n                        onMovePrevRequest={ moveToPrev }\r\n                        onMoveNextRequest={ moveToNext }\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VerticalThumbnail;"],"mappings":"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"},"metadata":{},"sourceType":"module"}