{"ast":null,"code":"import _slicedToArray from \"/Users/thecoderlorian/Documents/dev/2 copy/com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/features/modal/newsletter-modal.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Modal from 'react-modal';\nimport { connect } from 'react-redux';\nimport { hideNewsletter } from '../../../action';\nvar customStyles = {\n  content: {\n    top: '50%',\n    transform: 'translateY(-50%)',\n    backgroundImage: \"url( \\\"\".concat(process.env.PUBLIC_URL, \"/assets/images/demo/newsletter_popup_bg.jpg\\\" )\"),\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundColor: \"#fff\"\n  }\n};\nModal.setAppElement('#root');\nvar timeOut;\n\nfunction NewsletterModal(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  useEffect(function () {\n    if (!props.isOpened) {\n      timeOut = setTimeout(function () {\n        if (window.location.pathname === process.env.PUBLIC_URL + '/') {\n          setOpen(true);\n        }\n      }, 5000);\n    }\n  }, []);\n\n  function close(e) {\n    e.stopPropagation();\n    document.querySelector(\".newsletter-popup\") && (document.querySelector(\".newsletter-popup\").style.opacity = 0);\n    var checked = document.querySelector(\"#newsletter-popup-form .checkbox input:checked\");\n    setTimeout(function () {\n      setOpen(false);\n\n      if (checked) {\n        props.hideNewsletter();\n      }\n\n      window.clearTimeout(timeOut);\n    }, 40);\n  }\n\n  var afterOpenModal = function afterOpenModal() {\n    document.querySelector(\".newsletter-popup\").style.opacity = 1;\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: open,\n    shouldFocusAfterRender: false,\n    onRequestClose: close,\n    contentLabel: \"Newsletter Modal\",\n    className: \"newsletter-popup\",\n    portalClassName: \"ReactModalPortal newsletter-portal\",\n    overlayClassName: \"newsletter-modal-overlay\",\n    id: \"newsletter-popup-form\",\n    style: customStyles,\n    onAfterOpen: afterOpenModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsletter-popup-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"\".concat(process.env.PUBLIC_URL, \"/assets/images/demo/logo-black.png\"),\n    alt: \"Logo\",\n    className: \"logo-newsletter\",\n    width: 111,\n    height: 44,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"BE THE FIRST TO KNOW\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Subscribe to the Porto eCommerce newsletter to receive timely updates from your favorite products.\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"newsletter-email\",\n    name: \"newsletter-email\",\n    placeholder: \"Email address\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn\",\n    value: \"Go!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsletter-subscribe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }), \"Don't show this popup again\")))), /*#__PURE__*/React.createElement(\"button\", {\n    title: \"Close (Esc)\",\n    type: \"button\",\n    className: \"mfp-close\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"\\xD7\"));\n}\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    isOpened: state.demo.isOpened ? state.demo.isOpened : false\n  };\n};\n\nexport default connect(mapStateToProps, {\n  hideNewsletter: hideNewsletter\n})(NewsletterModal);","map":{"version":3,"names":["React","useEffect","useState","Modal","connect","hideNewsletter","customStyles","content","top","transform","backgroundImage","process","env","PUBLIC_URL","backgroundSize","backgroundPosition","backgroundColor","setAppElement","timeOut","NewsletterModal","props","open","setOpen","isOpened","setTimeout","window","location","pathname","close","e","stopPropagation","document","querySelector","style","opacity","checked","clearTimeout","afterOpenModal","mapStateToProps","state","demo"],"sources":["/Users/thecoderlorian/Documents/dev/2 copy/com/src/components/features/modal/newsletter-modal.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { hideNewsletter } from '../../../action';\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n        backgroundImage: `url( \"${ process.env.PUBLIC_URL }/assets/images/demo/newsletter_popup_bg.jpg\" )`,\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n        backgroundColor: \"#fff\"\r\n    }\r\n};\r\n\r\nModal.setAppElement( '#root' );\r\n\r\nlet timeOut;\r\n\r\nfunction NewsletterModal( props ) {\r\n    const [ open, setOpen ] = useState( false );\r\n\r\n    useEffect( () => {\r\n        if ( !props.isOpened ) {\r\n            timeOut = setTimeout( () => {\r\n                if ( window.location.pathname === process.env.PUBLIC_URL + '/' ) {\r\n                    setOpen( true );\r\n                }\r\n            }, 5000 );\r\n        }\r\n    }, [] )\r\n\r\n    function close( e ) {\r\n        e.stopPropagation();\r\n        document.querySelector( \".newsletter-popup\" ) && ( document.querySelector( \".newsletter-popup\" ).style.opacity = 0 );\r\n\r\n        let checked = document.querySelector( \"#newsletter-popup-form .checkbox input:checked\" );\r\n\r\n        setTimeout( () => {\r\n            setOpen( false );\r\n            if ( checked ) {\r\n                props.hideNewsletter();\r\n            }\r\n\r\n            window.clearTimeout( timeOut );\r\n        }, 40 );\r\n    }\r\n\r\n    const afterOpenModal = () => {\r\n        document.querySelector( \".newsletter-popup\" ).style.opacity = 1;\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={ open }\r\n            shouldFocusAfterRender={ false }\r\n            onRequestClose={ close }\r\n            contentLabel=\"Newsletter Modal\"\r\n            className=\"newsletter-popup\"\r\n            portalClassName=\"ReactModalPortal newsletter-portal\"\r\n            overlayClassName=\"newsletter-modal-overlay\"\r\n            id=\"newsletter-popup-form\"\r\n            style={ customStyles }\r\n            onAfterOpen={ afterOpenModal }\r\n        >\r\n            <div className=\"newsletter-popup-content\">\r\n                <img src={ `${ process.env.PUBLIC_URL }/assets/images/demo/logo-black.png` } alt=\"Logo\" className=\"logo-newsletter\" width={ 111 } height={ 44 } />\r\n                <h2>BE THE FIRST TO KNOW</h2>\r\n                <p>Subscribe to the Porto eCommerce newsletter to receive timely updates from your favorite products.</p>\r\n\r\n                <form action=\"#\">\r\n                    <div className=\"input-group\">\r\n                        <input type=\"email\" className=\"form-control\" id=\"newsletter-email\" name=\"newsletter-email\" placeholder=\"Email address\" required />\r\n                        <input type=\"submit\" className=\"btn\" value=\"Go!\" />\r\n                    </div>\r\n                </form>\r\n\r\n                <div className=\"newsletter-subscribe\">\r\n                    <div className=\"checkbox\">\r\n                        <label>\r\n                            <input type=\"checkbox\" value=\"1\" />\r\n                            Don't show this popup again\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button title=\"Close (Esc)\" type=\"button\" className=\"mfp-close\" onClick={ close }>Ã</button>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ( state, props ) => {\r\n    return {\r\n        isOpened: state.demo.isOpened ? state.demo.isOpened : false\r\n    };\r\n}\r\n\r\nexport default connect( mapStateToProps, { hideNewsletter } )( NewsletterModal );"],"mappings":"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"},"metadata":{},"sourceType":"module"}