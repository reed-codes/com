{"ast":null,"code":"/**\r\n * Is Internet Explorer?\r\n * @return { bool }\r\n */\nexport var isIEBrowser = function isIEBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Trident\") > -1) return true;\n  return false;\n};\n/**\r\n * Is Firefox Explorer?\r\n * @return { bool }\r\n */\n\nexport var isFirefoxBrowser = function isFirefoxBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Firefox\") > -1) return true;\n  return false;\n};\n/**\r\n * Is Edge Explorer?\r\n * @return { bool }\r\n */\n\nexport var isEdgeBrowser = function isEdgeBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Edge\") > -1) return true;\n  return false;\n};\n/**\r\n * Is Safari?\r\n * @return { bool }\r\n */\n\nexport var isSafari = function isSafari() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf('Safari') !== -1 && sUsrAg.indexOf('Chrome') === -1) return true;\n  return false;\n};\n/**\r\n * handle Sticky Header\r\n * @param { Element } stickyHeader \r\n * @param { Number } limit\r\n * @param { String } addClass\r\n */\n\nfunction stickyHandler(stickyHeader, limit) {\n  var addClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fixed\";\n\n  if (window.pageYOffset >= limit && window.outerWidth >= 992) {\n    if (!stickyHeader.parentElement.classList.contains(\"sticky-wrapper\")) {\n      var wrapper = document.createElement(\"div\");\n      wrapper.className = 'sticky-wrapper';\n\n      if (!stickyHeader.parentElement.classList.contains(\"sticky-header\")) {\n        stickyHeader.parentElement.insertBefore(wrapper, stickyHeader);\n      } else {\n        stickyHeader.parentElement.parentElement.insertBefore(wrapper, stickyHeader);\n      }\n\n      wrapper.setAttribute(\"style\", \"height:\" + stickyHeader.offsetHeight + \"px\");\n      wrapper.insertAdjacentElement(\"beforeend\", stickyHeader);\n    }\n\n    if (!stickyHeader.classList.contains(addClass)) {\n      stickyHeader.parentElement.setAttribute(\"style\", \"height:\" + stickyHeader.offsetHeight + \"px\");\n      stickyHeader.classList.add(addClass);\n    }\n  } else {\n    stickyHeader.classList.remove(addClass);\n    if (stickyHeader.classList.contains(addClass)) stickyHeader.classList.remove(addClass);\n\n    if (stickyHeader.parentElement.classList.contains(\"sticky-wrapper\")) {\n      stickyHeader.parentElement.removeAttribute(\"style\");\n    }\n  }\n}\n\nvar stickyOffset = -1;\nvar stickyTop = -1;\n/**\r\n * initialize stickyoffset\r\n */\n\nexport function initStickyOffset() {\n  stickyOffset = -1;\n  stickyTop = -1;\n}\n/**\r\n * definePolyfills\r\n */\n\nexport var definePolyfills = function definePolyfills() {\n  if (typeof Object.values != 'function') {\n    Object.defineProperty(Object, \"values\", {\n      value: function values(obj) {\n        if (obj === null) {\n          throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var res = [];\n        Object.keys(obj).map(function (key) {\n          res.push(obj[key]);\n          return 1;\n        });\n        return res;\n      }\n    });\n  }\n\n  if (window.Element && !Element.prototype.closest) {\n    Element.prototype.closest = function (s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n\n      do {\n        i = matches.length;\n\n        while (--i >= 0 && matches.item(i) !== el) {}\n\n        ;\n      } while (i < 0 && (el = el.parentElement));\n\n      return el;\n    };\n  }\n\n  if (!Element.prototype.index) {\n    Element.prototype.index = function (s) {\n      var self = this;\n      var children = self.parentElement.children;\n\n      for (var i = 0; i < children.length; i++) {\n        if (self === children[i]) return i;\n      }\n\n      return 0;\n    };\n  }\n};\n/**\r\n * Scroll Top\r\n */\n\nexport function scrollTop() {\n  document.querySelector(\"#scroll-top\").addEventListener(\"click\", function (e) {\n    if (isIEBrowser() || isEdgeBrowser() || isFirefoxBrowser() || isSafari()) {\n      var pos = window.pageYOffset;\n      var timer = setInterval(function () {\n        if (pos <= 0) clearInterval(timer);\n        window.scrollBy(0, -40);\n        pos -= 40;\n      }, 1);\n    } else {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    }\n\n    e.preventDefault();\n  });\n  window.addEventListener(\"scroll\", function () {\n    if (document.querySelector(\"#scroll-top\")) {\n      if (window.pageYOffset > 600) {\n        document.querySelector(\"#scroll-top\").classList.add(\"fixed\");\n      } else {\n        document.querySelector(\"#scroll-top\").classList.remove(\"fixed\");\n      }\n    }\n  }, {\n    passive: true\n  });\n}\n/**\r\n * initialize layout\r\n */\n\nexport function init() {\n  if (document.querySelector('.main .sticky-header') && document.querySelector('.main .sticky-header').classList.contains('fixed')) {\n    document.querySelector('.main .sticky-header').classList.remove('fixed');\n  }\n\n  function mmenuHandler() {\n    if (window.outerWidth >= 992 && document.querySelector('body').classList.contains('mmenu-active')) {\n      document.querySelector('body').classList.remove('mmenu-active');\n    }\n  }\n\n  window.addEventListener('resize', mmenuHandler, {\n    passive: true\n  });\n  setTimeout(function () {\n    if (document.querySelector(\".sticky-header\")) {\n      window.addEventListener(\"scroll\", stickyInit, {\n        passive: true\n      });\n    }\n  }, 800);\n}\n/**\r\n * sticky initialization for base\r\n */\n\nexport function stickyInit() {\n  if (document.querySelector(\".sticky-header\")) {\n    var stickyHeader1 = document.querySelector(\"header .sticky-header\");\n\n    if (stickyHeader1) {\n      stickyHandler(stickyHeader1, 300);\n    }\n\n    if (document.querySelector(\"header.sticky-header\")) {\n      stickyHandler(document.querySelector(\"header.sticky-header\"), 300);\n    }\n\n    var stickyHeader2 = document.querySelector(\".main .sticky-header\");\n\n    if (stickyHeader2) {\n      if (!stickyHeader2.classList.contains(\"fixed\") && (stickyOffset === -1 || stickyOffset === 0)) stickyOffset = stickyHeader2.getBoundingClientRect().top + window.pageYOffset + stickyHeader2.offsetHeight;\n      stickyHandler(stickyHeader2, stickyOffset, \"fixed\");\n    }\n  }\n}\n/**\r\n * find item of array\r\n * @param { Array } items \r\n * @param { Int } id \r\n */\n\nexport function findIndex() {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments.length > 1 ? arguments[1] : undefined;\n  var res = false;\n\n  for (var i = 0; i < items.length; i++) {\n    if (items[i].id === id) {\n      res = true;\n      break;\n    }\n  }\n\n  return res;\n}\n/**\r\n * find Product by id in array of products\r\n * @param { Array } products \r\n * @param { String } id \r\n */\n\nexport function findProductById(products, id) {\n  return products.filter(function (item) {\n    return isNaN(id) === false && item.id === parseInt(id);\n  })[0];\n}\n/**\r\n * find Blog by id in array of products\r\n * @param { Array } blogs \r\n * @param { String } id \r\n */\n\nexport function findBlogById(blogs, id) {\n  return blogs.filter(function (item) {\n    return isNaN(id) === false && item.id === parseInt(id);\n  })[0];\n}\n/**\r\n * execute isotope grid\r\n * @param { Function Pointer } isotope \r\n * @param { Function Pointer } imagesLoaded \r\n */\n\nexport function isotopeLoad(isotope, imagesLoaded) {\n  var grids = document.querySelectorAll(\".grid\");\n\n  var _loop = function _loop(i) {\n    var grid = grids[i];\n    var iso = new isotope(grid, {\n      itemSelector: '.grid-item',\n      layoutMode: 'masonry',\n      percentPosition: true,\n      getSortData: {\n        'md-order': '[data-md-order] parseInt'\n      },\n      sortReorder: true,\n      masonry: {\n        columnWidth: '.grid-sizer'\n      }\n    });\n    var imgLoad = imagesLoaded(grid, {\n      background: true\n    });\n    imgLoad.on('done', function (instance, image) {\n      if (window.innerWidth < 768 && window.innerWidth > 400) {\n        iso.arrange({\n          sortBy: 'md-order'\n        });\n      }\n\n      iso.layout();\n    });\n\n    if (grids[i].parentElement.classList.contains(\"featured-section\")) {\n      var isotopeImage = function isotopeImage(e) {\n        e.preventDefault();\n        var filterValue = e.currentTarget.getAttribute(\"data-filter\");\n        iso.arrange({\n          filter: filterValue\n        });\n        e.currentTarget.parentElement.parentElement.querySelector(\".active\").classList.remove(\"active\");\n        e.currentTarget.classList.add('active'); // setTimeout( () => {\n        //     appearAnimate();\n        // }, 400 );\n      };\n\n      var links = document.querySelectorAll(\".filter-button-group .nav-link\");\n\n      for (var j = 0; j < links.length; j++) {\n        links[j].addEventListener(\"click\", isotopeImage);\n      }\n    }\n\n    function isoArrange() {\n      iso.arrange({\n        sortBy: window.innerWidth < 768 && window.innerWidth > 400 ? 'md-order' : 'original-order'\n      });\n    }\n\n    window.addEventListener('resize', isoArrange);\n  };\n\n  for (var i = 0; i < grids.length; i++) {\n    _loop(i);\n  }\n}\n/**\r\n* Remove all XSS attacks potential\r\n* @param { String } html \r\n* @return { Object } \r\n*/\n\nexport var removeXSSAttacks = function removeXSSAttacks(html) {\n  var SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi; // Removing the <script> tags\n\n  while (SCRIPT_REGEX.test(html)) {\n    html = html.replace(SCRIPT_REGEX, \"\");\n  } // Removing all events from tags...\n\n\n  html = html.replace(/ on\\w+=\"[^\"]*\"/g, \"\");\n  return {\n    __html: html\n  };\n};\n/**\r\n * Filter Product\r\n * @param { Array } products \r\n * @param { String } type \r\n * @param { String } demo \r\n * @param { Int } format \r\n */\n\nexport function productFilter(products) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"arrivals\";\n\n  switch (type) {\n    case \"arrivals\":\n      return products.filter(function (product) {\n        return product.new === true;\n      });\n\n    case \"sale\":\n      return products.filter(function (product) {\n        return product.sale === true;\n      });\n\n    case \"featured\":\n      return products.filter(function (product) {\n        return product.featured === true;\n      });\n\n    case \"top\":\n      return products.filter(function (product) {\n        return product.top > 5;\n      }).sort(function (a, b) {\n        return b.top - a.top;\n      });\n\n    case \"latest\":\n      return products.filter(function (product) {\n        return product.date;\n      }).sort(function (a, b) {\n        return Date.parse(b.date) - Date.parse(a.date);\n      });\n\n    case \"rated\":\n      return products.filter(function (product) {\n        return product.rating;\n      }).sort(function (a, b) {\n        return b.rating - a.rating;\n      });\n\n    case \"all\":\n      return products;\n\n    default:\n      return products;\n  }\n}\n/**\r\n * Filter by category\r\n * @param { Array } products \r\n * @param { String } category \r\n * @param { Int } format \r\n */\n\nexport function categoryFilter(products) {\n  var category = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"all\";\n  return products.filter(function (product) {\n    return category === \"all\" ? true : product.category.indexOf(category) !== -1;\n  });\n}\n/**\r\n * Get the variant product price min-max price\r\n * @param { Array } variants \r\n * @param { String } set \r\n */\n\nexport function getPrice(variants) {\n  var set = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'max';\n  var xVal = [];\n  variants.map(function (variant) {\n    var max = variant.type.reduce(function (a, b) {\n      var price1 = a.salePrice ? a.salePrice : a.price;\n      var price2 = b.salePrice ? b.salePrice : b.price;\n\n      if (set === 'max') {\n        return price1 > price2 ? a : b;\n      } else {\n        return price1 < price2 ? a : b;\n      }\n    });\n    xVal.push(max.salePrice ? max.salePrice : max.price);\n    return 1;\n  });\n\n  if (set === 'max') {\n    return xVal.reduce(function (a, b) {\n      return Math.max(a, b);\n    });\n  } else {\n    return xVal.reduce(function (a, b) {\n      return Math.min(a, b);\n    });\n  }\n}\n/**\r\n * In the Shop Page, function that uses the to filter the products\r\n * @param { Array } products \r\n * @param { Array } filter \r\n * @param { String } current demo-1, demo-2, etc\r\n */\n\nexport function shopFilterProducts(products, filter) {\n  var filterProduct = products.filter(function (product) {\n    var maxPrice,\n        minPrice = 0;\n    maxPrice = minPrice = product.salePrice ? product.salePrice : product.price;\n\n    if (product.variants) {\n      maxPrice = getPrice(product.variants);\n      minPrice = getPrice(product.variants, 'min');\n    }\n\n    var categoriesFlag = 0,\n        i;\n\n    if (filter.category && filter.category !== \"\") {\n      if (product.category) {\n        categoriesFlag = product.category.indexOf(filter.category) >= 0 ? 1 : 0;\n      } else {\n        categoriesFlag = 0;\n      }\n    } else categoriesFlag = 1;\n\n    var sizeFlag = 0;\n\n    if (filter.size && filter.size.length > 0) {\n      if (product.size) {\n        for (i = 0; i < filter.size.length; i++) {\n          sizeFlag |= product.size.indexOf(filter.size[i]) >= 0 ? 1 : 0;\n        }\n      } else {\n        sizeFlag = 0;\n      }\n    } else sizeFlag = 1;\n\n    var brandFlag = 0;\n\n    if (filter.brand && filter.brand.length > 0) {\n      if (product.brand) {\n        for (i = 0; i < filter.brand.length; i++) {\n          brandFlag |= product.brand.indexOf(filter.brand[i]) >= 0 ? 1 : 0;\n        }\n      } else {\n        brandFlag = 0;\n      }\n    } else brandFlag = 1;\n\n    var colorFlag = 0;\n\n    if (filter.color && filter.color.length > 0) {\n      if (product.color) {\n        for (i = 0; i < filter.color.length; i++) {\n          colorFlag |= product.color.indexOf(filter.color[i]) >= 0 ? 1 : 0;\n        }\n      } else {\n        colorFlag = 0;\n      }\n    } else colorFlag = 1;\n\n    return filter.value && product.format === 1 && minPrice > filter.value.min && maxPrice < filter.value.max && categoriesFlag && sizeFlag && brandFlag && colorFlag;\n  });\n\n  if (filter.sortBy === \"popularity\") {\n    filterProduct.sort(function (a, b) {\n      return b.top - a.top;\n    });\n  } else if (filter.sortBy === \"rating\") {\n    filterProduct.sort(function (a, b) {\n      return b.rating - a.rating;\n    });\n  } else if (filter.sortBy === \"date\") {\n    filterProduct.sort(function (a, b) {\n      return new Date(b.date).getTime() - new Date(b.date).getTime();\n    });\n  } else if (filter.sortBy === \"price\") {\n    filterProduct.sort(function (a, b) {\n      var minPrice1,\n          minPrice = 0;\n      minPrice = a.salePrice ? a.salePrice : a.price;\n      minPrice1 = b.salePrice ? b.salePrice : b.price;\n\n      if (a.variants) {\n        minPrice = getPrice(a.variants, 'min');\n      }\n\n      if (b.variants) {\n        minPrice1 = getPrice(b.variants, 'min');\n      }\n\n      return minPrice - minPrice1;\n    });\n  } else if (filter.sortBy === \"price-desc\") {\n    filterProduct.sort(function (a, b) {\n      var maxPrice,\n          maxPrice1 = 0;\n      maxPrice = a.salePrice ? a.salePrice : a.price;\n      maxPrice1 = b.salePrice ? b.salePrice : b.price;\n\n      if (a.variants) {\n        maxPrice = getPrice(a.variants);\n      }\n\n      if (b.variants) {\n        maxPrice1 = getPrice(b.variants);\n      }\n\n      return maxPrice1 - maxPrice;\n    });\n  }\n\n  return filterProduct;\n}\n/* outerHeight */\n\nfunction outerHeight(self) {\n  return parseInt(window.getComputedStyle(self).getPropertyValue(\"margin-bottom\")) + parseInt(window.getComputedStyle(self).getPropertyValue(\"margin-top\")) + parseInt(self.offsetHeight);\n}\n/* width */\n\n\nfunction width(self) {\n  return parseInt(self.clientWidth) - parseInt(window.getComputedStyle(self).getPropertyValue(\"padding-left\")) - parseInt(window.getComputedStyle(self).getPropertyValue(\"padding-right\"));\n}\n/**\r\n * \r\n * @param { node } self \r\n */\n\n\nfunction maxChildHeight(self) {\n  var children = self.children;\n  var maxHeight = -1;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    var height = 0;\n\n    for (var j = 0; j < child.children.length; j++) {\n      height += outerHeight(child.children[j]);\n    }\n\n    if (maxHeight < height) maxHeight = height;\n  }\n\n  return maxHeight;\n}\n/**\r\n * get the raw offsetTop\r\n * @param { Node  } stickySidebar \r\n */\n\n\nfunction getRowTop(stickySidebar) {\n  var position = stickySidebar.style.position;\n  var top = stickySidebar.style.top;\n  var bottom = stickySidebar.style.bottom;\n  var width = stickySidebar.style.width;\n  stickySidebar.style.position = '';\n  stickySidebar.style.top = '';\n  stickySidebar.style.bottom = '';\n  stickySidebar.style.width = '';\n  stickyTop = stickySidebar.getBoundingClientRect().top + window.pageYOffset;\n  stickySidebar.style.position = position;\n  stickySidebar.style.top = top;\n  stickySidebar.style.bottom = bottom;\n  stickySidebar.style.width = width;\n  return stickyTop;\n}\n/**\r\n * utils to handle sticky content\r\n */\n\n\nexport var setStickyValues = function setStickyValues() {\n  var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 82;\n\n  if (isIEBrowser()) {\n    var stickyContent = document.querySelector('.sticky-sidebar');\n    if (!stickyContent) return;\n    stickyContent.style.position = \"relative\";\n    stickyContent.style.top = '0';\n  }\n};\n/**\r\n * sticky Box \r\n */\n\nexport var stickyContentHandle = function stickyContentHandle() {\n  if (isIEBrowser()) {\n    var stickySidebars = document.querySelectorAll('.sticky-sidebar');\n\n    for (var i = 0; i < stickySidebars.length; i++) {\n      var stickySidebar = stickySidebars[i];\n      var _scrollTop = window.pageYOffset;\n      var originWidth = width(stickySidebar.parentElement);\n      var offsetTop = 90;\n\n      if (window.outerWidth >= 992) {\n        stickyTop = getRowTop(stickySidebar);\n        var parentBottom = outerHeight(stickySidebar.parentElement.parentElement) + stickyTop;\n\n        if (_scrollTop + 10 < stickyTop || outerHeight(stickySidebar) >= maxChildHeight(stickySidebar.parentElement.parentElement)) {\n          stickySidebar.style.position = '';\n          stickySidebar.style.top = '';\n          stickySidebar.style.bottom = '';\n          stickySidebar.style.width = '';\n          continue;\n        } else if (_scrollTop > stickyTop && _scrollTop + window.innerHeight < parentBottom - 20 && _scrollTop + window.innerHeight > stickySidebar.clientHeight + stickyTop) {\n          stickySidebar.style.position = 'fixed';\n\n          if (maxChildHeight(stickySidebar.parentElement.parentElement) > stickySidebar.offsetHeight + 20 && window.innerHeight > stickySidebar.offsetHeight) {\n            stickySidebar.style.bottom = '';\n            stickySidebar.style.top = offsetTop + 'px';\n          } else {\n            stickySidebar.style.bottom = '10px';\n            stickySidebar.style.top = '';\n          }\n\n          stickySidebar.style.width = originWidth + 'px';\n          continue;\n        } else if (_scrollTop + window.innerHeight > parentBottom) {\n          if (window.innerHeight > stickySidebar.offsetHeight && maxChildHeight(stickySidebar.parentElement.parentElement) > stickySidebar.offsetHeight + 20 && _scrollTop + offsetTop + outerHeight(stickySidebar) < parentBottom - 20) {\n            stickySidebar.style.position = 'fixed';\n            stickySidebar.style.bottom = '';\n            stickySidebar.style.top = offsetTop + 'px';\n          } else {\n            var top = stickySidebar.parentElement.parentElement.offsetHeight - outerHeight(stickySidebar);\n            stickySidebar.style.position = 'absolute';\n            stickySidebar.style.top = top + 'px';\n            stickySidebar.style.bottom = '';\n          }\n\n          stickySidebar.style.width = originWidth + 'px';\n          continue;\n        } else if (_scrollTop < stickySidebar.offsetTop + stickyTop + 30) {\n          if (stickySidebar.style.position === \"absolute\") {\n            stickySidebar.style.top = stickyTop + 'px';\n            stickySidebar.style.bottom = '';\n            stickySidebar.style.width = originWidth + 'px';\n          }\n\n          continue;\n        }\n      } else {\n        stickySidebar.style.position = '';\n        stickySidebar.style.top = '';\n        stickySidebar.style.bottom = '';\n        stickySidebar.style.width = '';\n      }\n    }\n\n    var stickySliders = document.querySelectorAll('.sticky-slider');\n\n    for (var _i = 0; _i < stickySliders.length; _i++) {\n      var stickySlider = stickySliders[_i];\n      var _scrollTop2 = window.pageYOffset;\n\n      var _originWidth = width(stickySlider.parentElement);\n\n      var _offsetTop = 90;\n\n      if (window.outerWidth >= 992) {\n        stickyTop = getRowTop(stickySlider);\n\n        var _parentBottom = outerHeight(stickySlider.parentElement.parentElement) + stickyTop;\n\n        if (_scrollTop2 + 10 < stickyTop || outerHeight(stickySlider) >= maxChildHeight(stickySlider.parentElement.parentElement)) {\n          stickySlider.style.position = '';\n          stickySlider.style.top = '';\n          stickySlider.style.bottom = '';\n          stickySlider.style.width = '';\n          continue;\n        } else if (_scrollTop2 > stickyTop && _scrollTop2 + window.innerHeight < _parentBottom - 20 && _scrollTop2 + window.innerHeight > stickySlider.clientHeight + stickyTop) {\n          stickySlider.style.position = 'fixed';\n\n          if (maxChildHeight(stickySlider.parentElement.parentElement) > stickySlider.offsetHeight + 20 && window.innerHeight > stickySlider.offsetHeight) {\n            stickySlider.style.bottom = '';\n            stickySlider.style.top = _offsetTop + 'px';\n          } else {\n            stickySlider.style.bottom = '10px';\n            stickySlider.style.top = '';\n          }\n\n          stickySlider.style.width = _originWidth + 'px';\n          continue;\n        } else if (_scrollTop2 + window.innerHeight > _parentBottom) {\n          if (window.innerHeight > stickySlider.offsetHeight && maxChildHeight(stickySlider.parentElement.parentElement) > stickySlider.offsetHeight + 20 && _scrollTop2 + _offsetTop + outerHeight(stickySlider) < _parentBottom - 20) {\n            stickySlider.style.position = 'fixed';\n            stickySlider.style.bottom = '';\n            stickySlider.style.top = _offsetTop + 'px';\n          } else {\n            var _top = stickySlider.parentElement.parentElement.offsetHeight - outerHeight(stickySlider);\n\n            stickySlider.style.position = 'absolute';\n            stickySlider.style.top = _top + 'px';\n            stickySlider.style.bottom = '';\n          }\n\n          stickySlider.style.width = _originWidth + 'px';\n          continue;\n        } else if (_scrollTop2 < stickySlider.offsetTop + stickyTop + 30) {\n          if (stickySlider.style.position === \"absolute\") {\n            stickySlider.style.top = stickyTop + 'px';\n            stickySlider.style.bottom = '';\n            stickySlider.style.width = _originWidth + 'px';\n          }\n\n          continue;\n        }\n      } else {\n        stickySlider.style.position = '';\n        stickySlider.style.top = '';\n        stickySlider.style.bottom = '';\n        stickySlider.style.width = '';\n      }\n    }\n  }\n};\n/**\r\n * Util for making parallax background\r\n */\n\nexport function setParallax() {\n  var parallax = document.querySelector(\".parallax\");\n\n  if (parallax) {\n    var y = (parallax.offsetTop - window.pageYOffset) / 20 + 40;\n    parallax.style.backgroundPositionY = \"\".concat(y, \"%\");\n  }\n}\n/**\r\n * count up\r\n */\n\nexport var elementCount = function elementCount() {\n  var counterSections = document.querySelectorAll(\".counters-section\");\n\n  var _loop2 = function _loop2(j) {\n    var counterSection = counterSections[j];\n\n    if (window.innerHeight >= counterSection.querySelector(\".count\").getBoundingClientRect().top) {\n      var myTimer = setInterval(function () {\n        var counts = counterSection.querySelectorAll(\".count-wrapper .count\");\n\n        for (var i = 0; i < counts.length; i++) {\n          var element = counts[i];\n\n          if (!element.closest(\".appear-animation\") || element.closest(\".appear-animation.appear-animation-visible\")) {\n            var from = parseInt(element.getAttribute(\"data-from\"));\n            var to = parseInt(element.getAttribute(\"data-to\"));\n            var cur = parseFloat(element.getAttribute(\"data-value\"));\n            cur = cur + parseFloat((to - from) / 30);\n\n            if (cur >= to) {\n              cur = to;\n              window.clearInterval(myTimer);\n            }\n\n            element.setAttribute(\"data-value\", cur);\n            if (element.getAttribute(\"data-append\")) element.innerText = cur.toFixed(0) + element.getAttribute(\"data-append\");else element.innerText = cur.toFixed(0);\n          }\n        }\n      }, 100);\n      if (j === counterSections.length - 1) window.removeEventListener(\"scroll\", elementCount);\n    }\n  };\n\n  for (var j = 0; j < counterSections.length; j++) {\n    _loop2(j);\n  }\n};\n/**\r\n * utils to set countto in about-2\r\n */\n\nexport var countTo = function countTo() {\n  var items = document.querySelectorAll('.count-to');\n\n  if (items) {\n    var _loop3 = function _loop3(i) {\n      var item = items[i];\n      var amount = parseInt(item.getAttribute('data-to'), 10) - parseInt(item.getAttribute('data-from'), 10);\n      var time = parseInt(item.getAttribute('data-speed'), 10);\n      var interval = parseInt(item.getAttribute('data-refresh-interval'), 10);\n      var pt = 0;\n      var height = item.parentElement.parentElement.parentElement.offsetTop;\n      var flag = 0;\n      document.addEventListener(\"scroll\", countToScrollHandler, {\n        passive: true\n      });\n\n      function countToScrollHandler() {\n        if (pt <= time && height >= window.pageYOffset) {\n          if (0 === flag) {\n            var timerId = setInterval(function () {\n              if (pt >= time) {\n                clearInterval(timerId);\n              }\n\n              item.innerHTML = parseInt(pt * amount / time);\n              pt = pt + interval;\n            }, interval);\n          }\n\n          flag = 1;\n        }\n      }\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      _loop3(i);\n    }\n  }\n};\n/**\r\n * Active Each Nav \r\n * @param { Event } \r\n */\n\nexport function activeListNav(e) {\n  for (var i = 7; i >= 0; i--) {\n    if (!document.querySelector(\"#cat-\" + i)) continue;\n\n    if (document.querySelector(\"#cat-\" + i + \" .category-title\").getBoundingClientRect().top < 50 && (document.querySelector(\"cat-\" + (i + 1) + \" .category-title\") ? document.querySelector(\"cat-\" + (i + 1) + \" .category-title\").getBoundingClientRect().top > 0 : true)) {\n      if (document.querySelector(\".category-list-nav .nav-link.active\")) {\n        document.querySelector(\".category-list-nav .nav-link.active\").classList.remove(\"active\");\n      }\n\n      document.querySelector('[data-target=\"cat-' + i + '\"]').classList.add(\"active\");\n      break;\n    }\n  }\n}\n/**\r\n * get total Price of products in cart.\r\n * @param {Array} cartItems \r\n */\n\nexport var getCartTotal = function getCartTotal(items) {\n  var total = 0;\n\n  if (items) {\n    for (var i = 0; i < items.length; i++) {\n      total += parseInt(items[i].sum, 10);\n    }\n  }\n\n  return total;\n};\n/**\r\n * get number of products in cart\r\n * @param {Array} cartItems \r\n * @return {Integer} total\r\n */\n\nexport var getQtyTotal = function getQtyTotal(items) {\n  var total = 0;\n\n  if (items) {\n    for (var i = 0; i < items.length; i++) {\n      total += parseInt(items[i].qty, 10);\n    }\n  }\n\n  return total;\n};","map":{"version":3,"names":["isIEBrowser","sUsrAg","navigator","userAgent","indexOf","isFirefoxBrowser","isEdgeBrowser","isSafari","stickyHandler","stickyHeader","limit","addClass","window","pageYOffset","outerWidth","parentElement","classList","contains","wrapper","document","createElement","className","insertBefore","setAttribute","offsetHeight","insertAdjacentElement","add","remove","removeAttribute","stickyOffset","stickyTop","initStickyOffset","definePolyfills","Object","values","defineProperty","value","obj","TypeError","res","keys","map","key","push","Element","prototype","closest","s","matches","ownerDocument","querySelectorAll","i","el","length","item","index","self","children","scrollTop","querySelector","addEventListener","e","pos","timer","setInterval","clearInterval","scrollBy","scrollTo","top","behavior","preventDefault","passive","init","mmenuHandler","setTimeout","stickyInit","stickyHeader1","stickyHeader2","getBoundingClientRect","findIndex","items","id","findProductById","products","filter","isNaN","parseInt","findBlogById","blogs","isotopeLoad","isotope","imagesLoaded","grids","grid","iso","itemSelector","layoutMode","percentPosition","getSortData","sortReorder","masonry","columnWidth","imgLoad","background","on","instance","image","innerWidth","arrange","sortBy","layout","isotopeImage","filterValue","currentTarget","getAttribute","links","j","isoArrange","removeXSSAttacks","html","SCRIPT_REGEX","test","replace","__html","productFilter","type","product","new","sale","featured","sort","a","b","date","Date","parse","rating","categoryFilter","category","getPrice","variants","set","xVal","variant","max","reduce","price1","salePrice","price","price2","Math","min","shopFilterProducts","filterProduct","maxPrice","minPrice","categoriesFlag","sizeFlag","size","brandFlag","brand","colorFlag","color","format","getTime","minPrice1","maxPrice1","outerHeight","getComputedStyle","getPropertyValue","width","clientWidth","maxChildHeight","maxHeight","child","height","getRowTop","stickySidebar","position","style","bottom","setStickyValues","stickyContent","stickyContentHandle","stickySidebars","originWidth","offsetTop","parentBottom","innerHeight","clientHeight","stickySliders","stickySlider","setParallax","parallax","y","backgroundPositionY","elementCount","counterSections","counterSection","myTimer","counts","element","from","to","cur","parseFloat","innerText","toFixed","removeEventListener","countTo","amount","time","interval","pt","flag","countToScrollHandler","timerId","innerHTML","activeListNav","getCartTotal","total","sum","getQtyTotal","qty"],"sources":["/Users/thecoderlorian/Documents/dev/2 copy/com/src/utils/index.js"],"sourcesContent":["/**\r\n * Is Internet Explorer?\r\n * @return { bool }\r\n */\r\nexport const isIEBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( \"Trident\" ) > -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * Is Firefox Explorer?\r\n * @return { bool }\r\n */\r\nexport const isFirefoxBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( \"Firefox\" ) > -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * Is Edge Explorer?\r\n * @return { bool }\r\n */\r\nexport const isEdgeBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( \"Edge\" ) > -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * Is Safari?\r\n * @return { bool }\r\n */\r\nexport const isSafari = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( 'Safari' ) !== -1 && sUsrAg.indexOf( 'Chrome' ) === -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * handle Sticky Header\r\n * @param { Element } stickyHeader \r\n * @param { Number } limit\r\n * @param { String } addClass\r\n */\r\nfunction stickyHandler( stickyHeader, limit, addClass = \"fixed\" ) {\r\n    if ( window.pageYOffset >= limit && window.outerWidth >= 992 ) {\r\n        if ( !stickyHeader.parentElement.classList.contains( \"sticky-wrapper\" ) ) {\r\n            let wrapper = document.createElement( \"div\" );\r\n            wrapper.className = 'sticky-wrapper';\r\n            if ( !stickyHeader.parentElement.classList.contains( \"sticky-header\" ) ) {\r\n                stickyHeader.parentElement.insertBefore( wrapper, stickyHeader );\r\n            } else {\r\n                stickyHeader.parentElement.parentElement.insertBefore( wrapper, stickyHeader );\r\n            }\r\n            wrapper.setAttribute( \"style\", \"height:\" + stickyHeader.offsetHeight + \"px\" );\r\n            wrapper.insertAdjacentElement( \"beforeend\", stickyHeader );\r\n        }\r\n        if ( !stickyHeader.classList.contains( addClass ) ) {\r\n            stickyHeader.parentElement.setAttribute( \"style\", \"height:\" + stickyHeader.offsetHeight + \"px\" );\r\n            stickyHeader.classList.add( addClass );\r\n        }\r\n    } else {\r\n        stickyHeader.classList.remove( addClass );\r\n        if ( stickyHeader.classList.contains( addClass ) ) stickyHeader.classList.remove( addClass );\r\n        if ( stickyHeader.parentElement.classList.contains( \"sticky-wrapper\" ) ) {\r\n            stickyHeader.parentElement.removeAttribute( \"style\" );\r\n        }\r\n    }\r\n}\r\n\r\nlet stickyOffset = -1;\r\nlet stickyTop = -1;\r\n/**\r\n * initialize stickyoffset\r\n */\r\nexport function initStickyOffset() {\r\n    stickyOffset = -1;\r\n    stickyTop = -1;\r\n}\r\n\r\n/**\r\n * definePolyfills\r\n */\r\nexport const definePolyfills = () => {\r\n    if ( typeof Object.values != 'function' ) {\r\n        Object.defineProperty( Object, \"values\", {\r\n            value: function values( obj ) {\r\n                if ( obj === null ) {\r\n                    throw new TypeError( 'Cannot convert undefined or null to object' );\r\n                }\r\n\r\n                let res = [];\r\n\r\n                Object.keys( obj ).map( function ( key ) {\r\n                    res.push( obj[ key ] );\r\n                    return 1;\r\n                } )\r\n\r\n                return res;\r\n            }\r\n        } );\r\n    }\r\n\r\n    if ( window.Element && !Element.prototype.closest ) {\r\n        Element.prototype.closest =\r\n            function ( s ) {\r\n                var matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\r\n                    i,\r\n                    el = this;\r\n\r\n                do {\r\n                    i = matches.length;\r\n                    while ( --i >= 0 && matches.item( i ) !== el ) { };\r\n                } while ( ( i < 0 ) && ( el = el.parentElement ) );\r\n                return el;\r\n            };\r\n    }\r\n\r\n    if ( !Element.prototype.index ) {\r\n        Element.prototype.index = function ( s ) {\r\n            let self = this;\r\n            let children = self.parentElement.children;\r\n            for ( let i = 0; i < children.length; i++ ) {\r\n                if ( self === children[ i ] ) return i;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Scroll Top\r\n */\r\nexport function scrollTop() {\r\n    document.querySelector( \"#scroll-top\" ).addEventListener( \"click\", function ( e ) {\r\n        if ( isIEBrowser() || isEdgeBrowser() || isFirefoxBrowser() || isSafari() ) {\r\n            let pos = window.pageYOffset;\r\n            let timer = setInterval( () => {\r\n                if ( pos <= 0 )\r\n                    clearInterval( timer );\r\n                window.scrollBy( 0, -40 );\r\n                pos -= 40;\r\n            }, 1 );\r\n        } else {\r\n            window.scrollTo( {\r\n                top: 0,\r\n                behavior: \"smooth\"\r\n            } )\r\n        }\r\n        e.preventDefault();\r\n    } );\r\n\r\n    window.addEventListener( \"scroll\", function () {\r\n        if ( document.querySelector( \"#scroll-top\" ) ) {\r\n            if ( window.pageYOffset > 600 ) {\r\n                document.querySelector( \"#scroll-top\" ).classList.add( \"fixed\" );\r\n            } else {\r\n                document.querySelector( \"#scroll-top\" ).classList.remove( \"fixed\" );\r\n            }\r\n        }\r\n    }, { passive: true } );\r\n}\r\n\r\n\r\n/**\r\n * initialize layout\r\n */\r\nexport function init() {\r\n    if ( document.querySelector( '.main .sticky-header' ) && document.querySelector( '.main .sticky-header' ).classList.contains( 'fixed' ) ) {\r\n        document.querySelector( '.main .sticky-header' ).classList.remove( 'fixed' );\r\n    }\r\n\r\n    function mmenuHandler() {\r\n        if ( window.outerWidth >= 992 && document.querySelector( 'body' ).classList.contains( 'mmenu-active' ) ) {\r\n            document.querySelector( 'body' ).classList.remove( 'mmenu-active' );\r\n        }\r\n    }\r\n\r\n    window.addEventListener( 'resize', mmenuHandler, { passive: true } );\r\n    setTimeout( () => {\r\n\r\n        if ( document.querySelector( \".sticky-header\" ) ) {\r\n\r\n            window.addEventListener( \"scroll\", stickyInit, { passive: true } );\r\n        }\r\n    }, 800 );\r\n}\r\n\r\n/**\r\n * sticky initialization for base\r\n */\r\nexport function stickyInit() {\r\n\r\n    if ( document.querySelector( \".sticky-header\" ) ) {\r\n        let stickyHeader1 = document.querySelector( \"header .sticky-header\" );\r\n        if ( stickyHeader1 ) {\r\n            stickyHandler( stickyHeader1, 300 );\r\n        }\r\n\r\n        if ( document.querySelector( \"header.sticky-header\" ) ) {\r\n            stickyHandler( document.querySelector( \"header.sticky-header\" ), 300 );\r\n        }\r\n\r\n        let stickyHeader2 = document.querySelector( \".main .sticky-header\" );\r\n        if ( stickyHeader2 ) {\r\n            if ( !stickyHeader2.classList.contains( \"fixed\" ) && ( stickyOffset === -1 || stickyOffset === 0 ) )\r\n                stickyOffset = stickyHeader2.getBoundingClientRect().top + window.pageYOffset + stickyHeader2.offsetHeight;\r\n            stickyHandler( stickyHeader2, stickyOffset, \"fixed\" );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * find item of array\r\n * @param { Array } items \r\n * @param { Int } id \r\n */\r\nexport function findIndex( items = [], id ) {\r\n    let res = false;\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        if ( items[ i ].id === id ) {\r\n            res = true;\r\n            break;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\n/**\r\n * find Product by id in array of products\r\n * @param { Array } products \r\n * @param { String } id \r\n */\r\nexport function findProductById( products, id ) {\r\n    return products.filter( item => isNaN( id ) === false && item.id === parseInt( id ) )[ 0 ]\r\n}\r\n\r\n/**\r\n * find Blog by id in array of products\r\n * @param { Array } blogs \r\n * @param { String } id \r\n */\r\nexport function findBlogById( blogs, id ) {\r\n    return blogs.filter( item => isNaN( id ) === false && item.id === parseInt( id ) )[ 0 ]\r\n}\r\n\r\n/**\r\n * execute isotope grid\r\n * @param { Function Pointer } isotope \r\n * @param { Function Pointer } imagesLoaded \r\n */\r\nexport function isotopeLoad( isotope, imagesLoaded ) {\r\n    let grids = document.querySelectorAll( \".grid\" );\r\n    for ( let i = 0; i < grids.length; i++ ) {\r\n        let grid = grids[ i ];\r\n\r\n        let iso = new isotope( grid, {\r\n            itemSelector: '.grid-item',\r\n            layoutMode: 'masonry',\r\n            percentPosition: true,\r\n            getSortData: {\r\n                'md-order': '[data-md-order] parseInt'\r\n            },\r\n            sortReorder: true,\r\n            masonry: {\r\n                columnWidth: '.grid-sizer',\r\n            }\r\n        } );\r\n\r\n        let imgLoad = imagesLoaded( grid, { background: true } );\r\n        imgLoad.on( 'done', function ( instance, image ) {\r\n            if ( window.innerWidth < 768 && window.innerWidth > 400 ) {\r\n                iso.arrange( { sortBy: 'md-order' } );\r\n            }\r\n\r\n            iso.layout();\r\n        } );\r\n\r\n        if ( grids[ i ].parentElement.classList.contains( \"featured-section\" ) ) {\r\n            let links = document.querySelectorAll( \".filter-button-group .nav-link\" );\r\n            function isotopeImage( e ) {\r\n                e.preventDefault();\r\n                let filterValue = e.currentTarget.getAttribute( \"data-filter\" );\r\n                iso.arrange( {\r\n                    filter: filterValue\r\n                } );\r\n                e.currentTarget.parentElement.parentElement.querySelector( \".active\" ).classList.remove( \"active\" );\r\n                e.currentTarget.classList.add( 'active' );\r\n                // setTimeout( () => {\r\n                //     appearAnimate();\r\n                // }, 400 );\r\n            }\r\n            for ( let j = 0; j < links.length; j++ ) {\r\n                links[ j ].addEventListener( \"click\", isotopeImage );\r\n            }\r\n        }\r\n        function isoArrange() {\r\n            iso.arrange( {\r\n                sortBy: ( window.innerWidth < 768 && window.innerWidth > 400 ) ? 'md-order'\r\n                    : 'original-order'\r\n            } );\r\n        }\r\n        window.addEventListener( 'resize', isoArrange );\r\n    }\r\n}\r\n\r\n/**\r\n* Remove all XSS attacks potential\r\n* @param { String } html \r\n* @return { Object } \r\n*/\r\nexport const removeXSSAttacks = ( html ) => {\r\n    const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n\r\n    // Removing the <script> tags\r\n    while ( SCRIPT_REGEX.test( html ) ) {\r\n        html = html.replace( SCRIPT_REGEX, \"\" );\r\n    }\r\n\r\n    // Removing all events from tags...\r\n    html = html.replace( / on\\w+=\"[^\"]*\"/g, \"\" );\r\n\r\n    return {\r\n        __html: html\r\n    }\r\n}\r\n\r\n/**\r\n * Filter Product\r\n * @param { Array } products \r\n * @param { String } type \r\n * @param { String } demo \r\n * @param { Int } format \r\n */\r\nexport function productFilter( products, type = \"arrivals\" ) {\r\n    switch ( type ) {\r\n        case \"arrivals\":\r\n            return products.filter( product => (\r\n                product.new === true\r\n            ) );\r\n\r\n        case \"sale\":\r\n            return products.filter( product => (\r\n                product.sale === true\r\n            ) );\r\n\r\n        case \"featured\":\r\n            return products.filter( product => (\r\n                product.featured === true\r\n            ) );\r\n\r\n        case \"top\":\r\n            return products.filter( product => (\r\n                product.top > 5\r\n            ) ).sort( function ( a, b ) {\r\n                return b.top - a.top;\r\n            } );\r\n\r\n        case \"latest\":\r\n            return products.filter( product => (\r\n                product.date\r\n            ) ).sort( function ( a, b ) {\r\n                return Date.parse( b.date ) - Date.parse( a.date );\r\n            } );\r\n\r\n        case \"rated\":\r\n            return products.filter( product => (\r\n                product.rating\r\n            ) ).sort( function ( a, b ) {\r\n                return b.rating - a.rating;\r\n            } );\r\n\r\n        case \"all\":\r\n            return products;\r\n\r\n        default:\r\n            return products;\r\n    }\r\n}\r\n\r\n/**\r\n * Filter by category\r\n * @param { Array } products \r\n * @param { String } category \r\n * @param { Int } format \r\n */\r\nexport function categoryFilter( products, category = \"all\" ) {\r\n    return products.filter( product => (\r\n        ( category === \"all\" ) ?\r\n            true\r\n            : product.category.indexOf( category ) !== -1\r\n    ) )\r\n}\r\n\r\n/**\r\n * Get the variant product price min-max price\r\n * @param { Array } variants \r\n * @param { String } set \r\n */\r\nexport function getPrice( variants, set = 'max' ) {\r\n    let xVal = [];\r\n    variants.map( ( variant ) => {\r\n        let max = variant.type.reduce( ( a, b ) => {\r\n            let price1 = a.salePrice ? a.salePrice : a.price;\r\n            let price2 = b.salePrice ? b.salePrice : b.price;\r\n            if ( set === 'max' ) {\r\n                return price1 > price2 ? a : b;\r\n            } else {\r\n                return price1 < price2 ? a : b;\r\n            }\r\n        } );\r\n        xVal.push( max.salePrice ? max.salePrice : max.price );\r\n        return 1;\r\n    } );\r\n    if ( set === 'max' ) {\r\n        return xVal.reduce( ( a, b ) => Math.max( a, b ) );\r\n    } else {\r\n        return xVal.reduce( ( a, b ) => Math.min( a, b ) );\r\n    }\r\n}\r\n\r\n/**\r\n * In the Shop Page, function that uses the to filter the products\r\n * @param { Array } products \r\n * @param { Array } filter \r\n * @param { String } current demo-1, demo-2, etc\r\n */\r\nexport function shopFilterProducts( products, filter ) {\r\n    let filterProduct = products.filter( product => {\r\n        let maxPrice, minPrice = 0;\r\n        maxPrice = minPrice = product.salePrice ? product.salePrice : product.price;\r\n\r\n        if ( product.variants ) {\r\n            maxPrice = getPrice( product.variants );\r\n            minPrice = getPrice( product.variants, 'min' );\r\n        }\r\n\r\n        let categoriesFlag = 0, i;\r\n        if ( filter.category && filter.category !== \"\" ) {\r\n            if ( product.category ) {\r\n                categoriesFlag = product.category.indexOf( filter.category ) >= 0 ? 1 : 0;\r\n            } else {\r\n                categoriesFlag = 0;\r\n            }\r\n        } else categoriesFlag = 1;\r\n\r\n        let sizeFlag = 0;\r\n        if ( filter.size && filter.size.length > 0 ) {\r\n            if ( product.size ) {\r\n                for ( i = 0; i < filter.size.length; i++ ) {\r\n                    sizeFlag |= product.size.indexOf( filter.size[ i ] ) >= 0 ? 1 : 0;\r\n                }\r\n            } else {\r\n                sizeFlag = 0;\r\n            }\r\n        } else sizeFlag = 1;\r\n\r\n        let brandFlag = 0;\r\n        if ( filter.brand && filter.brand.length > 0 ) {\r\n            if ( product.brand ) {\r\n                for ( i = 0; i < filter.brand.length; i++ ) {\r\n                    brandFlag |= product.brand.indexOf( filter.brand[ i ] ) >= 0 ? 1 : 0;\r\n                }\r\n            } else {\r\n                brandFlag = 0;\r\n            }\r\n        } else brandFlag = 1;\r\n\r\n\r\n        let colorFlag = 0;\r\n        if ( filter.color && filter.color.length > 0 ) {\r\n            if ( product.color ) {\r\n                for ( i = 0; i < filter.color.length; i++ ) {\r\n                    colorFlag |= product.color.indexOf( filter.color[ i ] ) >= 0 ? 1 : 0;\r\n                }\r\n            } else {\r\n                colorFlag = 0;\r\n            }\r\n        } else colorFlag = 1;\r\n\r\n        return ( filter.value && product.format === 1 && minPrice > filter.value.min && maxPrice < filter.value.max && categoriesFlag && sizeFlag && brandFlag && colorFlag );\r\n    } )\r\n\r\n    if ( filter.sortBy === \"popularity\" ) {\r\n        filterProduct.sort( ( a, b ) => b.top - a.top );\r\n    } else if ( filter.sortBy === \"rating\" ) {\r\n        filterProduct.sort( ( a, b ) => b.rating - a.rating );\r\n    } else if ( filter.sortBy === \"date\" ) {\r\n        filterProduct.sort( ( a, b ) => new Date( b.date ).getTime() - new Date( b.date ).getTime() );\r\n    } else if ( filter.sortBy === \"price\" ) {\r\n        filterProduct.sort( ( a, b ) => {\r\n            let minPrice1, minPrice = 0;\r\n            minPrice = a.salePrice ? a.salePrice : a.price;\r\n            minPrice1 = b.salePrice ? b.salePrice : b.price;\r\n\r\n            if ( a.variants ) {\r\n                minPrice = getPrice( a.variants, 'min' );\r\n            }\r\n            if ( b.variants ) {\r\n                minPrice1 = getPrice( b.variants, 'min' );\r\n            }\r\n            return minPrice - minPrice1;\r\n        } );\r\n    } else if ( filter.sortBy === \"price-desc\" ) {\r\n        filterProduct.sort( ( a, b ) => {\r\n            let maxPrice, maxPrice1 = 0;\r\n            maxPrice = a.salePrice ? a.salePrice : a.price;\r\n            maxPrice1 = b.salePrice ? b.salePrice : b.price;\r\n\r\n            if ( a.variants ) {\r\n                maxPrice = getPrice( a.variants );\r\n            }\r\n            if ( b.variants ) {\r\n                maxPrice1 = getPrice( b.variants );\r\n            }\r\n            return maxPrice1 - maxPrice;\r\n        } );\r\n    }\r\n    return filterProduct;\r\n}\r\n\r\n\r\n/* outerHeight */\r\nfunction outerHeight( self ) {\r\n    return parseInt( window.getComputedStyle( self ).getPropertyValue( \"margin-bottom\" ) ) + parseInt( window.getComputedStyle( self ).getPropertyValue( \"margin-top\" ) ) + parseInt( self.offsetHeight );\r\n}\r\n\r\n/* width */\r\nfunction width( self ) {\r\n    return parseInt( self.clientWidth ) - parseInt( window.getComputedStyle( self ).getPropertyValue( \"padding-left\" ) ) - parseInt( window.getComputedStyle( self ).getPropertyValue( \"padding-right\" ) );\r\n}\r\n\r\n/**\r\n * \r\n * @param { node } self \r\n */\r\nfunction maxChildHeight( self ) {\r\n    let children = self.children;\r\n    let maxHeight = -1;\r\n    for ( let i = 0; i < children.length; i++ ) {\r\n        let child = children[ i ];\r\n        let height = 0;\r\n        for ( let j = 0; j < child.children.length; j++ ) {\r\n            height += outerHeight( child.children[ j ] );\r\n        }\r\n        if ( maxHeight < height )\r\n            maxHeight = height;\r\n    }\r\n    return maxHeight;\r\n}\r\n\r\n/**\r\n * get the raw offsetTop\r\n * @param { Node  } stickySidebar \r\n */\r\nfunction getRowTop( stickySidebar ) {\r\n    let position = stickySidebar.style.position;\r\n    let top = stickySidebar.style.top;\r\n    let bottom = stickySidebar.style.bottom;\r\n    let width = stickySidebar.style.width;\r\n    stickySidebar.style.position = '';\r\n    stickySidebar.style.top = '';\r\n    stickySidebar.style.bottom = '';\r\n    stickySidebar.style.width = '';\r\n    stickyTop = stickySidebar.getBoundingClientRect().top + window.pageYOffset;\r\n    stickySidebar.style.position = position;\r\n    stickySidebar.style.top = top;\r\n    stickySidebar.style.bottom = bottom;\r\n    stickySidebar.style.width = width;\r\n    return stickyTop;\r\n}\r\n\r\n/**\r\n * utils to handle sticky content\r\n */\r\nexport const setStickyValues = function ( height = 82 ) {\r\n    if ( isIEBrowser() ) {\r\n        let stickyContent = document.querySelector( '.sticky-sidebar' );\r\n        if ( !stickyContent ) return;\r\n        stickyContent.style.position = \"relative\";\r\n        stickyContent.style.top = '0';\r\n    }\r\n}\r\n\r\n/**\r\n * sticky Box \r\n */\r\nexport const stickyContentHandle = () => {\r\n    if ( isIEBrowser() ) {\r\n        let stickySidebars = document.querySelectorAll( '.sticky-sidebar' );\r\n        for ( let i = 0; i < stickySidebars.length; i++ ) {\r\n            let stickySidebar = stickySidebars[ i ];\r\n            let scrollTop = window.pageYOffset;\r\n            let originWidth = width( stickySidebar.parentElement );\r\n            let offsetTop = 90;\r\n            if ( window.outerWidth >= 992 ) {\r\n                stickyTop = getRowTop( stickySidebar );\r\n                let parentBottom = outerHeight( stickySidebar.parentElement.parentElement ) + stickyTop;\r\n                if ( scrollTop + 10 < stickyTop || outerHeight( stickySidebar ) >= maxChildHeight( stickySidebar.parentElement.parentElement ) ) {\r\n                    stickySidebar.style.position = '';\r\n                    stickySidebar.style.top = '';\r\n                    stickySidebar.style.bottom = '';\r\n                    stickySidebar.style.width = '';\r\n                    continue;\r\n                } else if ( scrollTop > stickyTop && scrollTop + window.innerHeight < parentBottom - 20 && scrollTop + window.innerHeight > stickySidebar.clientHeight + stickyTop ) {\r\n                    stickySidebar.style.position = 'fixed';\r\n                    if ( maxChildHeight( stickySidebar.parentElement.parentElement ) > stickySidebar.offsetHeight + 20 && window.innerHeight > stickySidebar.offsetHeight ) {\r\n                        stickySidebar.style.bottom = '';\r\n                        stickySidebar.style.top = offsetTop + 'px';\r\n                    }\r\n                    else {\r\n                        stickySidebar.style.bottom = '10px';\r\n                        stickySidebar.style.top = '';\r\n                    }\r\n\r\n                    stickySidebar.style.width = originWidth + 'px';\r\n                    continue;\r\n                } else if ( scrollTop + window.innerHeight > parentBottom ) {\r\n                    if ( window.innerHeight > stickySidebar.offsetHeight && maxChildHeight( stickySidebar.parentElement.parentElement ) > stickySidebar.offsetHeight + 20 && scrollTop + offsetTop + outerHeight( stickySidebar ) < parentBottom - 20 ) {\r\n                        stickySidebar.style.position = 'fixed';\r\n                        stickySidebar.style.bottom = '';\r\n                        stickySidebar.style.top = offsetTop + 'px';\r\n                    }\r\n                    else {\r\n                        let top = stickySidebar.parentElement.parentElement.offsetHeight - outerHeight( stickySidebar );\r\n                        stickySidebar.style.position = 'absolute';\r\n                        stickySidebar.style.top = top + 'px';\r\n                        stickySidebar.style.bottom = '';\r\n                    }\r\n                    stickySidebar.style.width = originWidth + 'px';\r\n                    continue;\r\n                } else if ( scrollTop < stickySidebar.offsetTop + stickyTop + 30 ) {\r\n                    if ( stickySidebar.style.position === \"absolute\" ) {\r\n                        stickySidebar.style.top = stickyTop + 'px';\r\n                        stickySidebar.style.bottom = '';\r\n                        stickySidebar.style.width = originWidth + 'px';\r\n                    }\r\n                    continue;\r\n                }\r\n            } else {\r\n                stickySidebar.style.position = '';\r\n                stickySidebar.style.top = '';\r\n                stickySidebar.style.bottom = '';\r\n                stickySidebar.style.width = '';\r\n            }\r\n        }\r\n        let stickySliders = document.querySelectorAll( '.sticky-slider' );\r\n        for ( let i = 0; i < stickySliders.length; i++ ) {\r\n            let stickySlider = stickySliders[ i ];\r\n            let scrollTop = window.pageYOffset;\r\n            let originWidth = width( stickySlider.parentElement );\r\n            let offsetTop = 90;\r\n            if ( window.outerWidth >= 992 ) {\r\n                stickyTop = getRowTop( stickySlider );\r\n                let parentBottom = outerHeight( stickySlider.parentElement.parentElement ) + stickyTop;\r\n                if ( scrollTop + 10 < stickyTop || outerHeight( stickySlider ) >= maxChildHeight( stickySlider.parentElement.parentElement ) ) {\r\n                    stickySlider.style.position = '';\r\n                    stickySlider.style.top = '';\r\n                    stickySlider.style.bottom = '';\r\n                    stickySlider.style.width = '';\r\n                    continue;\r\n                } else if ( scrollTop > stickyTop && scrollTop + window.innerHeight < parentBottom - 20 && scrollTop + window.innerHeight > stickySlider.clientHeight + stickyTop ) {\r\n                    stickySlider.style.position = 'fixed';\r\n                    if ( maxChildHeight( stickySlider.parentElement.parentElement ) > stickySlider.offsetHeight + 20 && window.innerHeight > stickySlider.offsetHeight ) {\r\n                        stickySlider.style.bottom = '';\r\n                        stickySlider.style.top = offsetTop + 'px';\r\n                    }\r\n                    else {\r\n                        stickySlider.style.bottom = '10px';\r\n                        stickySlider.style.top = '';\r\n                    }\r\n\r\n                    stickySlider.style.width = originWidth + 'px';\r\n                    continue;\r\n                } else if ( scrollTop + window.innerHeight > parentBottom ) {\r\n                    if ( window.innerHeight > stickySlider.offsetHeight && maxChildHeight( stickySlider.parentElement.parentElement ) > stickySlider.offsetHeight + 20 && scrollTop + offsetTop + outerHeight( stickySlider ) < parentBottom - 20 ) {\r\n                        stickySlider.style.position = 'fixed';\r\n                        stickySlider.style.bottom = '';\r\n                        stickySlider.style.top = offsetTop + 'px';\r\n                    }\r\n                    else {\r\n                        let top = stickySlider.parentElement.parentElement.offsetHeight - outerHeight( stickySlider );\r\n                        stickySlider.style.position = 'absolute';\r\n                        stickySlider.style.top = top + 'px';\r\n                        stickySlider.style.bottom = '';\r\n                    }\r\n                    stickySlider.style.width = originWidth + 'px';\r\n                    continue;\r\n                } else if ( scrollTop < stickySlider.offsetTop + stickyTop + 30 ) {\r\n                    if ( stickySlider.style.position === \"absolute\" ) {\r\n                        stickySlider.style.top = stickyTop + 'px';\r\n                        stickySlider.style.bottom = '';\r\n                        stickySlider.style.width = originWidth + 'px';\r\n                    }\r\n                    continue;\r\n                }\r\n            } else {\r\n                stickySlider.style.position = '';\r\n                stickySlider.style.top = '';\r\n                stickySlider.style.bottom = '';\r\n                stickySlider.style.width = '';\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Util for making parallax background\r\n */\r\nexport function setParallax() {\r\n    let parallax = document.querySelector( \".parallax\" );\r\n    if ( parallax ) {\r\n        let y = ( parallax.offsetTop - window.pageYOffset ) / 20 + 40;\r\n        parallax.style.backgroundPositionY = `${ y }%`;\r\n    }\r\n}\r\n\r\n/**\r\n * count up\r\n */\r\nexport let elementCount = function () {\r\n    let counterSections = document.querySelectorAll( \".counters-section\" );\r\n    for ( let j = 0; j < counterSections.length; j++ ) {\r\n        let counterSection = counterSections[ j ];\r\n\r\n        if ( window.innerHeight >= counterSection.querySelector( \".count\" ).getBoundingClientRect().top ) {\r\n            let myTimer = setInterval( function () {\r\n                let counts = counterSection.querySelectorAll( \".count-wrapper .count\" );\r\n\r\n                for ( let i = 0; i < counts.length; i++ ) {\r\n                    let element = counts[ i ];\r\n                    if ( !element.closest( \".appear-animation\" ) || ( element.closest( \".appear-animation.appear-animation-visible\" ) ) ) {\r\n\r\n                        let from = parseInt( element.getAttribute( \"data-from\" ) );\r\n                        let to = parseInt( element.getAttribute( \"data-to\" ) );\r\n                        let cur = parseFloat( element.getAttribute( \"data-value\" ) );\r\n                        cur = cur + parseFloat( ( ( to - from ) / 30 ) );\r\n                        if ( cur >= to ) {\r\n                            cur = to;\r\n                            window.clearInterval( myTimer );\r\n                        }\r\n                        element.setAttribute( \"data-value\", cur );\r\n\r\n                        if ( element.getAttribute( \"data-append\" ) )\r\n                            element.innerText = cur.toFixed( 0 ) + element.getAttribute( \"data-append\" );\r\n                        else element.innerText = cur.toFixed( 0 )\r\n                    }\r\n                }\r\n            }, 100 );\r\n\r\n            if ( j === counterSections.length - 1 )\r\n                window.removeEventListener( \"scroll\", elementCount );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * utils to set countto in about-2\r\n */\r\nexport const countTo = function () {\r\n    let items = document.querySelectorAll( '.count-to' );\r\n\r\n    if ( items ) {\r\n        for ( let i = 0; i < items.length; i++ ) {\r\n\r\n            let item = items[ i ];\r\n            let amount = parseInt( item.getAttribute( 'data-to' ), 10 ) - parseInt( item.getAttribute( 'data-from' ), 10 );\r\n            let time = parseInt( item.getAttribute( 'data-speed' ), 10 );\r\n            let interval = parseInt( item.getAttribute( 'data-refresh-interval' ), 10 );\r\n            let pt = 0;\r\n            let height = item.parentElement.parentElement.parentElement.offsetTop;\r\n            let flag = 0;\r\n\r\n            document.addEventListener( \"scroll\", countToScrollHandler, { passive: true } );\r\n\r\n            function countToScrollHandler() {\r\n                if ( pt <= time && height >= window.pageYOffset ) {\r\n                    if ( 0 === flag ) {\r\n                        let timerId = setInterval( () => {\r\n                            if ( pt >= time ) {\r\n                                clearInterval( timerId );\r\n                            }\r\n\r\n                            item.innerHTML = parseInt( ( pt * amount ) / time );\r\n                            pt = pt + interval;\r\n                        }, interval );\r\n                    }\r\n\r\n                    flag = 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Active Each Nav \r\n * @param { Event } \r\n */\r\nexport function activeListNav( e ) {\r\n    for ( let i = 7; i >= 0; i-- ) {\r\n        if ( !document.querySelector( \"#cat-\" + i ) ) continue;\r\n        if ( document.querySelector( \"#cat-\" + i + \" .category-title\" ).getBoundingClientRect().top < 50 && ( document.querySelector( \"cat-\" + ( i + 1 ) + \" .category-title\" ) ? document.querySelector( \"cat-\" + ( i + 1 ) + \" .category-title\" ).getBoundingClientRect().top > 0 : true ) ) {\r\n            if ( document.querySelector( \".category-list-nav .nav-link.active\" ) ) {\r\n                document.querySelector( \".category-list-nav .nav-link.active\" ).classList.remove( \"active\" );\r\n            }\r\n            document.querySelector( '[data-target=\"cat-' + i + '\"]' ).classList.add( \"active\" );\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * get total Price of products in cart.\r\n * @param {Array} cartItems \r\n */\r\nexport const getCartTotal = items => {\r\n    let total = 0;\r\n    if ( items ) {\r\n        for ( let i = 0; i < items.length; i++ ) {\r\n            total += parseInt( items[ i ].sum, 10 );\r\n        }\r\n    }\r\n    return total;\r\n}\r\n\r\n/**\r\n * get number of products in cart\r\n * @param {Array} cartItems \r\n * @return {Integer} total\r\n */\r\nexport const getQtyTotal = items => {\r\n    let total = 0;\r\n    if ( items ) {\r\n        for ( let i = 0; i < items.length; i++ ) {\r\n            total += parseInt( items[ i ].qty, 10 );\r\n        }\r\n    }\r\n    return total;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}